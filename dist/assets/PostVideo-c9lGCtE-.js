import{r as s,j as e}from"./index-CEvm53SA.js";import{a as r}from"./axios-BimPEqV4.js";const y=()=>{const[d,n]=s.useState(null),[a,c]=s.useState(""),[l,i]=s.useState(""),[m,g]=s.useState([]),x=t=>{n(t.target.files[0])},u=t=>{c(t.target.value)},p=async()=>{const t=new FormData;t.append("file",d),t.append("name",a),console.log(a);try{const o=await r.post("${import.meta.env.VITE_BACKEND_DOMAIN}upload",t,{headers:{"Content-Type":"multipart/form-data"}});i(o.data.videoUrl)}catch(o){console.error(o)}},h=async()=>{try{const t=await r.get("${import.meta.env.VITE_BACKEND_DOMAIN}videos");g(t.data)}catch(t){console.error(t)}};return s.useEffect(()=>{h()},[]),e.jsxs("div",{className:"min-h-screen bg-gray-200 py-10 px-6",children:[e.jsx("h1",{className:"text-4xl font-bold text-center text-gray-800 mb-8",children:"Video Gallery"}),e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 max-w-lg mx-auto",children:[e.jsx("input",{type:"file",onChange:x,accept:"video/mp4",className:"mb-4 block w-full text-sm text-gray-500 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none"}),e.jsx("input",{type:"text",value:a,onChange:u,placeholder:"Enter video name",className:"mb-4 block w-full text-sm text-gray-500 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none"}),e.jsx("button",{onClick:p,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300",children:"Upload Video"})]}),l&&e.jsxs("div",{className:"mt-10 bg-white shadow-lg rounded-lg p-6 max-w-4xl mx-auto",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Uploaded Video:"}),e.jsx("video",{width:"100%",controls:!0,className:"rounded-lg",children:e.jsx("source",{src:l,type:"video/mp4"})})]}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mt-10 mb-4 text-center",children:"All Videos:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((t,o)=>e.jsxs("div",{className:"bg-gray-200 shadow-lg rounded-lg p-4 overflow-hidden",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-600 mb-2",children:["Name:",t.name," "]}),e.jsx("video",{width:"100%",controls:!0,className:"rounded-lg",children:e.jsx("source",{src:t.videoUrl,type:"video/mp4"})})]},o))})]})};export{y as default};
